(this.webpackJsonpform_registr=this.webpackJsonpform_registr||[]).push([[0],{23:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),o=n.n(a),i=n(14),r=n.n(i),s=(n(23),n(13)),l=n(11),u=n.n(l),j=n(15),d=n(5),h=n(6),b=(n(28),function(e){return console.log("Enter SuccessLogged"),console.log(e),Object(c.jsxs)("div",{className:"successLogged",children:[Object(c.jsx)("div",{children:Object(c.jsx)("h5",{children:"Hello ".concat(e.data.name)})}),Object(c.jsx)("div",{children:Object(c.jsx)("h5",{children:"Your email ".concat(e.data.email)})}),Object(c.jsx)("button",{type:"submit",className:"waves-effect waves-red btn-large",onClick:e.onExit,children:"Exit"})]})}),p=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(""),r=Object(d.a)(i,2),l=r[0],p=r[1],m=Object(a.useState)(""),f=Object(d.a)(m,2),O=f[0],g=f[1],x=Object(a.useState)(""),v=Object(d.a)(x,2),w=v[0],S=v[1],y=Object(a.useState)(""),k=Object(d.a)(y,2),T=k[0],C=k[1],E=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Bearer ".concat(t),e.next=3,fetch("https://tager.dev.ozitag.com//api/tager/user/profile",{method:"GET",headers:{Accept:"application/json",Authorization:n}}).then((function(e){return e.json()}));case 3:c=e.sent,C(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e={clientId:1,email:l,password:O};fetch("https://tager.dev.ozitag.com/api/auth/user",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json()})).then((function(e){S(e.data.accessToken),E(e.data.accessToken)})).catch((function(e){console.log(e)})),p(""),g(""),o(!0)},z=function(e){p(e.target.value)},A=function(e){g(e.target.value)};return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Login form"}),n&&T?Object(c.jsx)(b,Object(s.a)(Object(s.a)({},T),{},{onExit:function(){var e="Bearer ".concat(w);fetch("https://tager.dev.ozitag.com/api/tager/user/profile/logout",{method:"POST",headers:{Accept:"application/json",Authorization:e}}).then((function(e){e.ok&&(o(!1),p(""),C(""),S(""))}))}})):Object(c.jsx)(h.c,{initialValues:{email:l,password:O},onSubmit:F,children:function(e){var t=e.errors,n=e.touched;return Object(c.jsxs)(h.b,{children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)(h.a,{onChange:z,name:"email",type:"email",value:l,placeholder:"email"}),t.email&&n.email?Object(c.jsx)("div",{children:t.email}):null,Object(c.jsx)("label",{htmlFor:"email",children:"Password"}),Object(c.jsx)(h.a,{type:"password",onChange:A,value:O,name:"password",placeholder:"password"}),Object(c.jsx)("button",{type:"submit",className:"waves-effect waves-light btn-large",children:"Submit"})]})}})]})},m=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)(p,{})})})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))};r.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(m,{})}),document.getElementById("root")),f()}},[[29,1,2]]]);
//# sourceMappingURL=main.a17d0c14.chunk.js.map